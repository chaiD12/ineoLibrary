(this["webpackJsonplightence-admin"]=this["webpackJsonplightence-admin"]||[]).push([[32],{2389:function(t,e,n){"use strict";n.d(e,"a",(function(){return z})),n.d(e,"b",(function(){return S}));var o=n(0),a=n.n(o);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){for(;t;){if(t.classList&&t.classList.contains(e))return!0;t=t.parentElement}return!1}function u(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top}}function h(t,e,n){return"https://"+String.fromCharCode(97+(t+e+n)%3)+".tile.openstreetmap.org/"+n+"/"+t+"/"+e+".png"}var c=function(){return!0},m=function(t,e){return(t+180)/360*Math.pow(2,e)},p=function(t,e){return(1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,e)};function d(t,e){return t/Math.pow(2,e)*360-180}function f(t,e){var n=Math.PI-2*Math.PI*t/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}function v(t,e){var n=u(t);return[e.clientX-n.x,e.clientY-n.y]}var g=[f(Math.pow(2,10),10),f(0,10),d(0,10),d(Math.pow(2,10),10)],_="undefined"!==typeof window,w=_&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){var t=(new Date).getTime();return function(){return(new Date).getTime()-t}}(),M=function(t){return _?(window.requestAnimationFrame||window.setTimeout)(t):(t((new Date).getTime()),null)},x=function(t){return!(!_||!t)&&(window.cancelAnimationFrame||window.clearTimeout)(t)};function T(t,e,n,o,a){return t&&0!==t.length?t.map((function(t){return e(n,o,a,t)+(1===t?"":" "+t+"x")})).join(", "):""}var S=function(t){var e,n;function o(e){var n,o,a,r,i,s,u,h,_;return(_=t.call(this,e)||this)._dragStart=null,_._mouseDown=!1,_._moveEvents=[],_._lastClick=null,_._lastTap=null,_._lastWheel=null,_._touchStartPixel=null,_._touchStartMidPoint=null,_._touchStartDistance=null,_._secondTouchEnd=null,_._warningClearTimeout=null,_._isAnimating=!1,_._animationStart=null,_._animationEnd=null,_._zoomStart=null,_._centerTarget=null,_._zoomTarget=null,_._zoomAround=null,_._animFrame=null,_._boundsSynced=!1,_._minMaxCache=null,_._resizeObserver=null,_.updateWidthHeight=function(){if(_._containerRef){var t=_._containerRef.getBoundingClientRect();if(t&&t.width>0&&t.height>0)return _.setState({width:t.width,height:t.height}),!0}return!1},_.wa=function(){var t;return(t=window).addEventListener.apply(t,arguments)},_.wr=function(){var t;return(t=window).removeEventListener.apply(t,arguments)},_.bindMouseEvents=function(){_.wa("mousedown",_.handleMouseDown),_.wa("mouseup",_.handleMouseUp),_.wa("mousemove",_.handleMouseMove)},_.bindTouchEvents=function(){_.wa("touchstart",_.handleTouchStart,{passive:!1}),_.wa("touchmove",_.handleTouchMove,{passive:!1}),_.wa("touchend",_.handleTouchEnd,{passive:!1})},_.unbindMouseEvents=function(){_.wr("mousedown",_.handleMouseDown),_.wr("mouseup",_.handleMouseUp),_.wr("mousemove",_.handleMouseMove)},_.unbindTouchEvents=function(){_.wr("touchstart",_.handleTouchStart),_.wr("touchmove",_.handleTouchMove),_.wr("touchend",_.handleTouchEnd)},_.bindResizeEvent=function(){_.wa("resize",_.updateWidthHeight)},_.unbindResizeEvent=function(){_.wr("resize",_.updateWidthHeight)},_.bindWheelEvent=function(){_._containerRef&&_._containerRef.addEventListener("wheel",_.handleWheel,{passive:!1})},_.unbindWheelEvent=function(){_._containerRef&&_._containerRef.removeEventListener("wheel",_.handleWheel)},_.setCenterZoomTarget=function(t,e,n,o,a){if(void 0===n&&(n=!1),void 0===o&&(o=null),void 0===a&&(a=300),_.props.animate&&(!n||_.distanceInScreens(t,e,_.state.center,_.state.zoom)<=_.props.animateMaxScreens)){if(_._isAnimating){x(_._animFrame);var r=_.animationStep(w()),i=r.centerStep,s=r.zoomStep;_._centerStart=i,_._zoomStart=s}else _._isAnimating=!0,_._centerStart=_.limitCenterAtZoom([_._lastCenter[0],_._lastCenter[1]],_._lastZoom),_._zoomStart=_._lastZoom,_.onAnimationStart();_._animationStart=w(),_._animationEnd=_._animationStart+a,o?(_._zoomAround=o,_._centerTarget=_.calculateZoomCenter(_._lastCenter,o,_._lastZoom,e)):(_._zoomAround=null,_._centerTarget=t),_._zoomTarget=e,_._animFrame=M(_.animate)}else if(_.stopAnimating(),o){var l=_.calculateZoomCenter(_._lastCenter,o,_._lastZoom,e);_.setCenterZoom(l,e,n)}else _.setCenterZoom(t||_.state.center,e,n)},_.setCenterZoomForChildren=function(t,e){_.setCenterZoomTarget(t||_.state.center,e||_.state.zoom,!0)},_.distanceInScreens=function(t,e,n,o){var a=_.state,r=a.width,i=a.height,s=_.latLngToPixel(n,n,o),l=_.latLngToPixel(t,n,o),u=_.latLngToPixel(n,n,e),h=_.latLngToPixel(t,n,e),c=(Math.abs(s[0]-l[0])+Math.abs(u[0]-h[0]))/2/r,m=(Math.abs(s[1]-l[1])+Math.abs(u[1]-h[1]))/2/i;return Math.sqrt(c*c+m*m)},_.animationStep=function(t){if(!_._animationEnd||!_._animationStart||!_._zoomTarget||!_._zoomStart||!_._centerStart||!_._centerTarget)return{centerStep:_.state.center,zoomStep:_.state.zoom};var e,n=_._animationEnd-_._animationStart,o=Math.max(t-_._animationStart,0),a=(e=o/n)*(2-e),r=(_._zoomTarget-_._zoomStart)*a,i=_._zoomStart+r;return _._zoomAround?{centerStep:_.calculateZoomCenter(_._centerStart,_._zoomAround,_._zoomStart,i),zoomStep:i}:{centerStep:[_._centerStart[0]+(_._centerTarget[0]-_._centerStart[0])*a,_._centerStart[1]+(_._centerTarget[1]-_._centerStart[1])*a],zoomStep:i}},_.animate=function(t){if(!_._animationEnd||t>=_._animationEnd)_._isAnimating=!1,_.setCenterZoom(_._centerTarget,_._zoomTarget,!0),_.onAnimationStop();else{var e=_.animationStep(t),n=e.centerStep,o=e.zoomStep;_.setCenterZoom(n,o),_._animFrame=M(_.animate)}},_.stopAnimating=function(){_._isAnimating&&(_._isAnimating=!1,_.onAnimationStop(),x(_._animFrame))},_.limitCenterAtZoom=function(t,e){var n=_.getBoundsMinMax(e||_.state.zoom);return[Math.max(Math.min(!t||isNaN(t[0])?_.state.center[0]:t[0],n[1]),n[0]),Math.max(Math.min(!t||isNaN(t[1])?_.state.center[1]:t[1],n[3]),n[2])]},_.onAnimationStart=function(){_.props.onAnimationStart&&_.props.onAnimationStart()},_.onAnimationStop=function(){_.props.onAnimationStop&&_.props.onAnimationStop()},_.setCenterZoom=function(t,e,n){void 0===n&&(n=!1);var o=_.limitCenterAtZoom(t,e);if(e&&Math.round(_.state.zoom)!==Math.round(e)){var a=_.tileValues(_.state),r=_.tileValues({center:o,zoom:e,width:_.state.width,height:_.state.height}),i=_.state.oldTiles;_.setState({oldTiles:i.filter((function(t){return t.roundedZoom!==a.roundedZoom})).concat(a)},c);for(var s={},l=r.tileMinX;l<=r.tileMaxX;l++)for(var u=r.tileMinY;u<=r.tileMaxY;u++){s[l+"-"+u+"-"+r.roundedZoom]=!1}_._loadTracker=s}_.setState({center:o,zoom:e||_.state.zoom},c);var h=_.props.zoom?_.props.zoom:_._lastZoom,m=_.props.center?_.props.center:_._lastCenter;e&&(n||Math.abs(h-e)>.001||Math.abs(m[0]-o[0])>1e-5||Math.abs(m[1]-o[1])>1e-5)&&(_._lastZoom=e,_._lastCenter=[].concat(o),_.syncToProps(o,e))},_.getBoundsMinMax=function(t){if("center"===_.props.limitBounds)return g;var e=_.state,n=e.width,o=e.height;if(_._minMaxCache&&_._minMaxCache[0]===t&&_._minMaxCache[1]===n&&_._minMaxCache[2]===o)return _._minMaxCache[3];var a=256*Math.pow(2,t),r=n>a?0:d(n/512,t),i=o>a?0:f(Math.pow(2,t)-o/512,t),s=n>a?0:d(Math.pow(2,t)-n/512,t),l=[i,o>a?0:f(o/512,t),r,s];return _._minMaxCache=[t,n,o,l],l},_.imageLoaded=function(t){_._loadTracker&&t in _._loadTracker&&(_._loadTracker[t]=!0,0===Object.values(_._loadTracker).filter((function(t){return!t})).length&&_.setState({oldTiles:[]},c))},_.handleTouchStart=function(t){if(_._containerRef&&(!t.target||!l(t.target,"pigeon-drag-block")))if(1===t.touches.length){var e=t.touches[0],n=v(_._containerRef,e);if(_.coordsInside(n)&&(_._touchStartPixel=[n],!_.props.twoFingerDrag))if(_.stopAnimating(),_._lastTap&&w()-_._lastTap<300){t.preventDefault();var o=_.pixelToLatLng(_._touchStartPixel[0]);_.setCenterZoomTarget(null,Math.max(_.props.minZoom,Math.min(_.state.zoom+1,_.props.maxZoom)),!1,o)}else _._lastTap=w(),_.trackMoveEvents(n)}else if(2===t.touches.length&&_._touchStartPixel){t.preventDefault(),_.stopTrackingMoveEvents(),(_.state.pixelDelta||_.state.zoomDelta)&&_.sendDeltaChange();var a=v(_._containerRef,t.touches[0]),r=v(_._containerRef,t.touches[1]);_._touchStartPixel=[a,r],_._touchStartMidPoint=[(a[0]+r[0])/2,(a[1]+r[1])/2],_._touchStartDistance=Math.sqrt(Math.pow(a[0]-r[0],2)+Math.pow(a[1]-r[1],2))}},_.handleTouchMove=function(t){if(_._containerRef){if(1===t.touches.length&&_._touchStartPixel){var e=t.touches[0],n=v(_._containerRef,e);_.props.twoFingerDrag?_.coordsInside(n)&&_.showWarning("fingers"):(t.preventDefault(),_.trackMoveEvents(n),_.setState({pixelDelta:[n[0]-_._touchStartPixel[0][0],n[1]-_._touchStartPixel[0][1]]},c))}else if(2===t.touches.length&&_._touchStartPixel&&_._touchStartMidPoint&&_._touchStartDistance){var o=_.state,a=o.width,r=o.height,i=o.zoom;t.preventDefault();var s=v(_._containerRef,t.touches[0]),l=v(_._containerRef,t.touches[1]),u=[(s[0]+l[0])/2,(s[1]+l[1])/2],h=[u[0]-_._touchStartMidPoint[0],u[1]-_._touchStartMidPoint[1]],m=Math.sqrt(Math.pow(s[0]-l[0],2)+Math.pow(s[1]-l[1],2)),p=Math.max(_.props.minZoom,Math.min(_.props.maxZoom,i+Math.log2(m/_._touchStartDistance)))-i,d=Math.pow(2,p),f=[(a/2-u[0])*(d-1),(r/2-u[1])*(d-1)];_.setState({zoomDelta:p,pixelDelta:[f[0]+h[0]*d,f[1]+h[1]*d]},c)}}else _._touchStartPixel=null},_.handleTouchEnd=function(t){if(_._containerRef){if(_._touchStartPixel){var e=_.props,n=e.zoomSnap,o=e.twoFingerDrag,a=e.minZoom,r=e.maxZoom,i=_.state.zoomDelta,s=_.sendDeltaChange(),l=s.center,u=s.zoom;if(0===t.touches.length)if(o)_.clearWarning();else{var h=_._touchStartPixel[0],c=v(_._containerRef,t.changedTouches[0]);(Math.abs(h[0]-c[0])>2||Math.abs(h[1]-c[1])>2)&&(!_._secondTouchEnd||w()-_._secondTouchEnd>300)&&(t.preventDefault(),_.throwAfterMoving(c,l,u)),_._touchStartPixel=null,_._secondTouchEnd=null}else if(1===t.touches.length){t.preventDefault();var m=v(_._containerRef,t.touches[0]);if(_._secondTouchEnd=w(),_._touchStartPixel=[m],_.trackMoveEvents(m),n){var p,d=_._touchStartMidPoint?_.pixelToLatLng(_._touchStartMidPoint):_.state.center;p=o&&Math.round(_.state.zoom)===Math.round(_.state.zoom+i)?Math.round(_.state.zoom):i>0?Math.ceil(_.state.zoom):Math.floor(_.state.zoom);var f=Math.max(a,Math.min(p,r));_.setCenterZoomTarget(d,f,!1,d)}}}}else _._touchStartPixel=null},_.handleMouseDown=function(t){if(_._containerRef){var e=v(_._containerRef,t);if(0===t.button&&(!t.target||!l(t.target,"pigeon-drag-block"))&&_.coordsInside(e))if(_.stopAnimating(),t.preventDefault(),_._lastClick&&w()-_._lastClick<300){if(!l(t.target,"pigeon-click-block")){var n=_.pixelToLatLng(_._mousePosition||e);_.setCenterZoomTarget(null,Math.max(_.props.minZoom,Math.min(_.state.zoom+1,_.props.maxZoom)),!1,n)}}else _._lastClick=w(),_._mouseDown=!0,_._dragStart=e,_.trackMoveEvents(e)}},_.handleMouseMove=function(t){_._containerRef&&(_._mousePosition=v(_._containerRef,t),_._mouseDown&&_._dragStart&&(_.trackMoveEvents(_._mousePosition),_.setState({pixelDelta:[_._mousePosition[0]-_._dragStart[0],_._mousePosition[1]-_._dragStart[1]]},c)))},_.handleMouseUp=function(t){if(_._containerRef){var e=_.state.pixelDelta;if(_._mouseDown){_._mouseDown=!1;var n=v(_._containerRef,t);if(!_.props.onClick||t.target&&l(t.target,"pigeon-click-block")||e&&!(Math.abs(e[0])+Math.abs(e[1])<=2)){var o=_.sendDeltaChange(),a=o.center,r=o.zoom;_.throwAfterMoving(n,a,r)}else{var i=_.pixelToLatLng(n);_.props.onClick({event:t,latLng:i,pixel:n}),_.setState({pixelDelta:void 0},c)}}}else _._mouseDown=!1},_.stopTrackingMoveEvents=function(){_._moveEvents=[]},_.trackMoveEvents=function(t){var e=w();(0===_._moveEvents.length||e-_._moveEvents[_._moveEvents.length-1].timestamp>40)&&(_._moveEvents.push({timestamp:e,coords:t}),_._moveEvents.length>2&&_._moveEvents.shift())},_.throwAfterMoving=function(t,e,n){var o=_.state,a=o.width,r=o.height,i=_.props.animate,s=w(),l=_._moveEvents.shift();if(l&&i){var u=Math.max(s-l.timestamp,1),h=[(t[0]-l.coords[0])/u*120,(t[1]-l.coords[1])/u*120],c=Math.sqrt(h[0]*h[0]+h[1]*h[1]);if(c>40){var v=1500*c/Math.sqrt(a*a+r*r),g=d(m(e[1],n)-h[0]/256,n),M=f(p(e[0],n)-h[1]/256,n);_.setCenterZoomTarget([M,g],n,!1,null,v)}}_.stopTrackingMoveEvents()},_.sendDeltaChange=function(){var t=_.state,e=t.center,n=t.zoom,o=t.pixelDelta,a=t.zoomDelta,r=e[0],i=e[1];return(o||0!==a)&&(i=d(m(e[1],n+a)-(o?o[0]/256:0),n+a),r=f(p(e[0],n+a)-(o?o[1]/256:0),n+a),_.setCenterZoom([r,i],n+a)),_.setState({pixelDelta:void 0,zoomDelta:0},c),{center:_.limitCenterAtZoom([r,i],n+a),zoom:n+a}},_.getBounds=function(t,e){void 0===t&&(t=_.state.center),void 0===e&&(e=_.zoomPlusDelta());var n=_.state,o=n.width,a=n.height;return{ne:_.pixelToLatLng([o-1,0],t,e),sw:_.pixelToLatLng([0,a-1],t,e)}},_.syncToProps=function(t,e){void 0===t&&(t=_.state.center),void 0===e&&(e=_.state.zoom);var n=_.props.onBoundsChanged;n&&(n({center:t,zoom:e,bounds:_.getBounds(t,e),initial:!_._boundsSynced}),_._boundsSynced=!0)},_.handleWheel=function(t){var e=_.props,n=e.mouseEvents,o=e.metaWheelZoom,a=e.zoomSnap,r=e.animate;if(n)if(!o||t.metaKey||t.ctrlKey){t.preventDefault();var i=-t.deltaY/150;if(!a&&_._zoomTarget){var s=_._zoomTarget-_.state.zoom;_.zoomAroundMouse(i+s,t)}else r?_.zoomAroundMouse(i,t):(!_._lastWheel||w()-_._lastWheel>300)&&(_._lastWheel=w(),_.zoomAroundMouse(i,t))}else _.showWarning("wheel")},_.showWarning=function(t){_.state.showWarning&&_.state.warningType===t||_.setState({showWarning:!0,warningType:t}),_._warningClearTimeout&&window.clearTimeout(_._warningClearTimeout),_._warningClearTimeout=window.setTimeout(_.clearWarning,300)},_.clearWarning=function(){_.state.showWarning&&_.setState({showWarning:!1})},_.zoomAroundMouse=function(t,e){if(_._containerRef){var n=_.state.zoom,o=_.props,a=o.minZoom,r=o.maxZoom,i=o.zoomSnap;if(_._mousePosition=v(_._containerRef,e),!(!_._mousePosition||n===a&&t<0||n===r&&t>0)){var s=_.pixelToLatLng(_._mousePosition),l=n+t;i&&(l=t<0?Math.floor(l):Math.ceil(l)),l=Math.max(a,Math.min(l,r)),_.setCenterZoomTarget(null,l,!1,s)}}},_.zoomPlusDelta=function(){return _.state.zoom+_.state.zoomDelta},_.pixelToLatLng=function(t,e,n){void 0===e&&(e=_.state.center),void 0===n&&(n=_.zoomPlusDelta());var o=_.state,a=o.width,r=o.height,i=o.pixelDelta,s=[(t[0]-a/2-(i?i[0]:0))/256,(t[1]-r/2-(i?i[1]:0))/256],l=m(e[1],n)+s[0],u=p(e[0],n)+s[1];return[Math.max(g[0],Math.min(g[1],f(u,n))),Math.max(g[2],Math.min(g[3],d(l,n)))]},_.latLngToPixel=function(t,e,n){void 0===e&&(e=_.state.center),void 0===n&&(n=_.zoomPlusDelta());var o=_.state,a=o.width,r=o.height,i=o.pixelDelta,s=m(e[1],n),l=p(e[0],n),u=m(t[1],n),h=p(t[0],n);return[256*(u-s)+a/2+(i?i[0]:0),256*(h-l)+r/2+(i?i[1]:0)]},_.calculateZoomCenter=function(t,e,n,o){var a=_.state,r=a.width,i=a.height,s=_.latLngToPixel(e,t,n),l=_.latLngToPixel(e,t,o),u=_.pixelToLatLng([r/2+l[0]-s[0],i/2+l[1]-s[1]],t,o);return _.limitCenterAtZoom(u,o)},_.setRef=function(t){_._containerRef=t},_.syncToProps=function(t,e){var n;return function(){for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];var i=this;clearTimeout(n),n=setTimeout((function(){return t.apply(i,a)}),e)}}(_.syncToProps,60),_._lastZoom=null!==(n=null!==(o=e.defaultZoom)&&void 0!==o?o:e.zoom)&&void 0!==n?n:14,_._lastCenter=null!==(a=null!==(r=e.defaultCenter)&&void 0!==r?r:e.center)&&void 0!==a?a:[0,0],_.state={zoom:_._lastZoom,center:_._lastCenter,width:null!==(i=null!==(s=e.width)&&void 0!==s?s:e.defaultWidth)&&void 0!==i?i:-1,height:null!==(u=null!==(h=e.height)&&void 0!==h?h:e.defaultHeight)&&void 0!==u?u:-1,zoomDelta:0,pixelDelta:void 0,oldTiles:[],showWarning:!1,warningType:void 0},_}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.componentDidMount=function(){var t=this;this.props.mouseEvents&&this.bindMouseEvents(),this.props.touchEvents&&this.bindTouchEvents(),this.props.width&&this.props.height||(this.updateWidthHeight()||M(this.updateWidthHeight),this.bindResizeEvent()),this.bindWheelEvent(),this.syncToProps(),"undefined"!==typeof window.ResizeObserver&&(this._resizeObserver=new window.ResizeObserver((function(){t.updateWidthHeight()})),this._resizeObserver.observe(this._containerRef))},r.componentWillUnmount=function(){this.props.mouseEvents&&this.unbindMouseEvents(),this.props.touchEvents&&this.unbindTouchEvents(),this.unbindWheelEvent(),this.props.width&&this.props.height||this.unbindResizeEvent(),this._resizeObserver&&this._resizeObserver.disconnect()},r.componentDidUpdate=function(t){var e;if(this.props.mouseEvents!==t.mouseEvents&&(this.props.mouseEvents?this.bindMouseEvents():this.unbindMouseEvents()),this.props.touchEvents!==t.touchEvents&&(this.props.touchEvents?this.bindTouchEvents():this.unbindTouchEvents()),this.props.width&&this.props.width!==t.width&&this.setState({width:this.props.width}),this.props.height&&this.props.height!==t.height&&this.setState({height:this.props.height}),(this.props.center||this.props.zoom)&&(this.props.center&&(this.props.center[0]!==(null===t||void 0===t||null===(e=t.center)||void 0===e?void 0:e[0])||this.props.center[1]!==t.center[1])||this.props.zoom!==t.zoom)){var n=this._isAnimating?this._centerTarget:this.state.center,o=this._isAnimating?this._zoomTarget:this.state.zoom;if(n&&o){var a,r,i=null!==(a=this.props.center)&&void 0!==a?a:n,s=null!==(r=this.props.zoom)&&void 0!==r?r:o;(Math.abs(s-o)>.001||Math.abs(i[0]-n[0])>1e-4||Math.abs(i[1]-n[1])>1e-4)&&this.setCenterZoomTarget(i,s,!0)}}},r.coordsInside=function(t){var e=this.state,n=e.width,o=e.height;if(t[0]<0||t[1]<0||t[0]>=n||t[1]>=o)return!1;var a=this._containerRef;if(a){var r=u(a),i=document.elementFromPoint(t[0]+r.x,t[1]+r.y);return a===i||a.contains(i)}return!1},r.tileValues=function(t){var e=t.center,n=t.zoom,o=t.pixelDelta,a=t.zoomDelta,r=t.width,i=t.height,s=Math.round(n+(a||0)),l=n+(a||0)-s,u=Math.pow(2,l),h=r/u,c=i/u,d=m(e[1],s)-(o?o[0]/256/u:0),f=p(e[0],s)-(o?o[1]/256/u:0),v=h/2/256,g=c/2/256;return{tileMinX:Math.floor(d-v),tileMaxX:Math.floor(d+v),tileMinY:Math.floor(f-g),tileMaxY:Math.floor(f+g),tileCenterX:d,tileCenterY:f,roundedZoom:s,zoomDelta:a||0,scaleWidth:h,scaleHeight:c,scale:u}},r.renderTiles=function(){for(var t=this,e=this.state,n=e.oldTiles,o=e.width,r=e.height,i=this.props.dprs,s=this.props.provider||h,l=this.tileValues(this.state),u=l.tileMinX,c=l.tileMaxX,m=l.tileMinY,p=l.tileMaxY,d=l.tileCenterX,f=l.tileCenterY,v=l.roundedZoom,g=l.scaleWidth,_=l.scaleHeight,w=l.scale,M=[],x=0;x<n.length;x++){var S=n[x],b=S.roundedZoom-v;if(!(Math.abs(b)>4||0===b))for(var z=1/Math.pow(2,b),E=256*-(u-S.tileMinX*z),D=256*-(m-S.tileMinY*z),C=Math.max(S.tileMinX,0),y=Math.max(S.tileMinY,0),P=Math.min(S.tileMaxX,Math.pow(2,S.roundedZoom)-1),Z=Math.min(S.tileMaxY,Math.pow(2,S.roundedZoom)-1),L=C;L<=P;L++)for(var A=y;A<=Z;A++)M.push({key:L+"-"+A+"-"+S.roundedZoom,url:s(L,A,S.roundedZoom),srcSet:T(i,s,L,A,S.roundedZoom),left:E+256*(L-S.tileMinX)*z,top:D+256*(A-S.tileMinY)*z,width:256*z,height:256*z,active:!1})}for(var W=Math.max(u,0),k=Math.max(m,0),R=Math.min(c,Math.pow(2,v)-1),O=Math.min(p,Math.pow(2,v)-1),Y=W;Y<=R;Y++)for(var X=k;X<=O;X++)M.push({key:Y+"-"+X+"-"+v,url:s(Y,X,v),srcSet:T(i,s,Y,X,v),left:256*(Y-u),top:256*(X-m),width:256,height:256,active:!0});var j={width:g,height:_,position:"absolute",top:"calc((100% - "+r+"px) / 2)",left:"calc((100% - "+o+"px) / 2)",overflow:"hidden",willChange:"transform",transform:"scale("+w+", "+w+")",transformOrigin:"top left"},F=this.props.boxClassname||"pigeon-tiles-box",I={position:"absolute",width:256*(c-u+1),height:256*(p-m+1),willChange:"transform",transform:"translate("+-(256*(d-u)-g/2)+"px, "+-(256*(f-m)-_/2)+"px)"};return a.a.createElement("div",{style:j,className:F},a.a.createElement("div",{className:"pigeon-tiles",style:I},M.map((function(e){return a.a.createElement("img",{key:e.key,src:e.url,srcSet:e.srcSet,width:e.width,height:e.height,loading:"lazy",onLoad:function(){return t.imageLoaded(e.key)},alt:"",style:{position:"absolute",left:e.left,top:e.top,willChange:"transform",transformOrigin:"top left",opacity:1}})}))))},r.renderOverlays=function(){var t=this,e=this.state,n=e.width,o=e.height,r=e.center,i={bounds:this.getBounds(),zoom:this.zoomPlusDelta(),center:r,width:n,height:o},s=a.a.Children.map(this.props.children,(function(e){if(!e)return null;if(!a.a.isValidElement(e))return e;var n=e.props,o=n.anchor,s=n.position,l=n.offset,u=t.latLngToPixel(o||s||r);return a.a.cloneElement(e,{left:u[0]-(l?l[0]:0),top:u[1]-(l?l[1]:0),latLngToPixel:t.latLngToPixel,pixelToLatLng:t.pixelToLatLng,setCenterZoom:t.setCenterZoomForChildren,mapProps:t.props,mapState:i})})),l={position:"absolute",width:n,height:o,top:"calc((100% - "+o+"px) / 2)",left:"calc((100% - "+n+"px) / 2)"};return a.a.createElement("div",{className:"pigeon-overlays",style:l},s)},r.renderAttribution=function(){var t=this.props,e=t.attribution,n=t.attributionPrefix;if(!1===e)return null;var o={color:"#0078A8",textDecoration:"none"};return a.a.createElement("div",{key:"attr",className:"pigeon-attribution",style:{position:"absolute",bottom:0,right:0,fontSize:"11px",padding:"2px 5px",background:"rgba(255, 255, 255, 0.7)",fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",color:"#333"}},!1===n?null:a.a.createElement("span",null,n||a.a.createElement("a",{href:"https://pigeon-maps.js.org/",style:o,target:"_blank",rel:"noreferrer noopener"},"Pigeon")," | "),e||a.a.createElement("span",null," \xa9 ",a.a.createElement("a",{href:"https://www.openstreetmap.org/copyright",style:o,target:"_blank",rel:"noreferrer noopener"},"OpenStreetMap")," contributors"))},r.renderWarning=function(){var t=this.props,e=t.metaWheelZoom,n=t.metaWheelZoomWarning,o=t.twoFingerDrag,r=t.twoFingerDragWarning,i=t.warningZIndex,s=this.state,l=s.showWarning,u=s.warningType,h=s.width,c=s.height;if(e&&n||o&&r){var m={position:"absolute",top:0,left:0,width:h,height:c,overflow:"hidden",pointerEvents:"none",opacity:l?100:0,transition:"opacity 300ms",background:"rgba(0,0,0,0.5)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",fontSize:22,fontFamily:'"Arial", sans-serif',textAlign:"center",zIndex:i},p="undefined"!==typeof window&&window.navigator&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?"\u2318":"ctrl",d="fingers"===u?r:n;return a.a.createElement("div",{className:"pigeon-overlay-warning",style:m},d.replace("META",p))}return null},r.render=function(){var t=this.props,e=t.touchEvents,n=t.twoFingerDrag,o=this.state,r=o.width,i=o.height,s={width:this.props.width?r:"100%",height:this.props.height?i:"100%",position:"relative",display:"inline-block",overflow:"hidden",background:"#dddddd",touchAction:e?n?"pan-x pan-y":"none":"auto"},l=!(!r||!i);return a.a.createElement("div",{style:s,ref:this.setRef},l&&this.renderTiles(),l&&this.renderOverlays(),l&&this.renderAttribution(),l&&this.renderWarning())},o}(o.Component);S.defaultProps={animate:!0,metaWheelZoom:!1,metaWheelZoomWarning:"Use META + wheel to zoom!",twoFingerDrag:!1,twoFingerDragWarning:"Use two fingers to move the map",zoomSnap:!0,mouseEvents:!0,touchEvents:!0,warningZIndex:100,animateMaxScreens:5,minZoom:1,maxZoom:18,limitBounds:"center",dprs:[]};var b={isDragging:!1,startX:void 0,startY:void 0,startLeft:void 0,startTop:void 0,deltaX:0,deltaY:0};function z(t){var e=Object(o.useRef)(),n=Object(o.useRef)(t),r=Object(o.useRef)(s({},b)),i=Object(o.useState)(b),l=i[0],u=i[1];n.current=t;var h=function(t){var e=s(s({},r.current),t);r.current=e,u(e)},c=t.mapProps,m=c.mouseEvents,p=c.touchEvents;Object(o.useEffect)((function(){var t=function(t){if(function(t,e){for(;t;){if(t===e)return!0;t=t.parentElement}return!1}(t.target,e.current)&&(t.preventDefault(),h({isDragging:!0,startX:("touches"in t?t.touches[0]:t).clientX,startY:("touches"in t?t.touches[0]:t).clientY,startLeft:n.current.left,startTop:n.current.top,deltaX:0,deltaY:0}),n.current.onDragStart)){var o=n.current,a=o.left,r=o.top,i=o.offset,s=o.pixelToLatLng;n.current.onDragMove(s([a+(i?i[0]:0),r+(i?i[1]:0)]))}},o=function(t){if(r.current.isDragging){t.preventDefault();var e=("touches"in t?t.touches[0]:t).clientX,o=("touches"in t?t.touches[0]:t).clientY,a=e-r.current.startX,i=o-r.current.startY;if(h({deltaX:a,deltaY:i}),n.current.onDragMove){var s=n.current,l=s.offset,u=s.pixelToLatLng,c=r.current,m=c.startLeft,p=c.startTop;n.current.onDragMove(u([m+a+(l?l[0]:0),p+i+(l?l[1]:0)]))}}},a=function(t){var e,o;if(r.current.isDragging){t.preventDefault();var a=n.current,i=a.offset,s=a.pixelToLatLng,l=r.current,u=l.deltaX,c=l.deltaY,m=l.startLeft,p=l.startTop;null===(e=(o=n.current).onDragEnd)||void 0===e||e.call(o,s([m+u+(i?i[0]:0),p+c+(i?i[1]:0)])),h({isDragging:!1,startX:void 0,startY:void 0,startLeft:void 0,startTop:void 0,deltaX:0,deltaY:0})}},i=function(t,e,n){return window.addEventListener(t,e,n)},s=function(t,e){return window.removeEventListener(t,e)};return m&&(i("mousedown",t),i("mousemove",o),i("mouseup",a)),p&&(i("touchstart",t,{passive:!1}),i("touchmove",o,{passive:!1}),i("touchend",a,{passive:!1})),function(){m&&(s("mousedown",t),s("mousemove",o),s("mouseup",a)),p&&(s("touchstart",t),s("touchmove",o),s("touchend",a))}}),[m,p]);var d=t.left,f=t.top,v=t.className,g=t.style,_=l.deltaX,w=l.deltaY,M=l.startLeft,x=l.startTop,T=l.isDragging;return a.a.createElement("div",{style:s(s({cursor:T?"grabbing":"grab"},g||{}),{},{position:"absolute",transform:"translate("+(T?M+_:d)+"px, "+(T?x+w:f)+"px)"}),ref:e,className:"pigeon-drag-block"+(v?" "+v:"")},t.children)}},2390:function(t,e,n){"use strict";function o(t,e,n,o){return void 0===o&&(o=1),"https://stamen-tiles.a.ssl.fastly.net/terrain/"+n+"/"+t+"/"+e+(o>=2?"@2x":"")+".jpg"}n.d(e,"a",(function(){return o}))}}]);